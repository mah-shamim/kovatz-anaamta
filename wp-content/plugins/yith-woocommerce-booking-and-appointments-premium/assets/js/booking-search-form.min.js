jQuery(function(n){"use strict";var r={message:bk.loader_svg,blockMsgClass:"yith-wcbk-block-ui-element",css:{border:"none",background:"transparent"},overlayCSS:{background:"#fff",opacity:.7},ignoreIfBlocked:!0};n(document).on("yith-wcbk-init-fields:select2",function(){n(".yith-wcbk-select2:not(.yith-wcbk-select2--initialized)").each(function(){n(this).select2({width:"100%"}),n(this).addClass("yith-wcbk-select2--initialized")})}).trigger("yith-wcbk-init-fields:select2"),n(document).on("select2:open",function(t){n(t.target).is(".yith-wcbk-select2")&&n(".select2-results").closest(".select2-container").addClass("yith-wcbk-select2-results-container")}),n(document).on("yith-wcbk-init-fields:gm-places-autocomplete",function(){n(".yith-wcbk-google-maps-places-autocomplete:not(.yith-wcbk-google-maps-places-autocomplete--initialized)").each(function(){n(this).addClass("yith-wcbk-google-maps-places-autocomplete--initialized"),new google.maps.places.Autocomplete(this)})}).trigger("yith-wcbk-init-fields:gm-places-autocomplete"),n(document).on("submit",".yith-wcbk-booking-search-form.show-results-popup form",function(t){t.preventDefault();t=n(this),n.fn.yith_wcbk_popup({popup_class:"yith-wcbk-booking-search-form-result yith-wcbk-popup woocommerce woocommerce-page",ajax:!0,ajax_data:t.serialize(),url:bk.ajaxurl})}),n(document).on("click",".yith-wcbk-search-form-result-product-thumb-actions span",function(t){var e,c=n(t.target),o=c.closest(".yith-wcbk-search-form-result-product-thumb-wrapper"),i=o.find(".yith-wcbk-thumb"),t=i.length,o=o.find(".yith-wcbk-thumb.current");1<t&&(o.length<1&&(o=i.first()).addClass("current"),c.is(".yith-wcbk-search-form-result-product-thumb-action-next")?(e=o.next(".yith-wcbk-thumb")).length<1&&(e=i.first()):(e=o.prev(".yith-wcbk-thumb")).length<1&&(e=i.last()),o.removeClass("current"),e.addClass("current"))}),n(document).on("click",".yith-wcbk-search-form-results-show-more",function(t){var e=n(t.target),c=e.data("product-ids"),o=e.data("page"),t=e.data("booking-request"),i=e.data("last-page"),s=o+1,a=e.closest(".yith-wcbk-booking-search-form-result").find(".yith-wcbk-search-form-result-products");e.block(r),n.ajax({data:{product_ids:c,page:s,booking_request:t,action:"yith_wcbk_search_booking_products_paged",security:bk.nonces.searchBookingProductsPaged},url:bk.ajaxurl,success:function(t){a.append(t),i<=s?e.remove():(e.data("page",s),e.unblock())}})}),n(document).on("yith-wcan-ajax-filtered",function(){n(document).trigger("yith-wcbk-init-fields:select2"),n(document).trigger("yith-wcbk-init-fields:gm-places-autocomplete"),n(document).trigger("yith-wcbk-init-booking-form")})});
!function(f,u,d){f.fn.yith_wcbk_popup=function(p){var s=null;self.popup=f(this);var e={popup_class:"yith-wcbk-popup",overlay_class:"yith-wcbk-overlay",close_btn_class:"yith-wcbk-popup-close",position:"center",popup_delay:0,ajax:!(self.opts={}),ajax_container:"yith-wcbk-popup-ajax-container",url:"",ajax_data:{},popup_css:{width:"50%"},block_params:{message:bk.loader_svg,blockMsgClass:"yith-wcbk-block-ui-element",css:{border:"none",background:"transparent"},overlayCSS:{background:"#fff",opacity:.7},ignoreIfBlocked:!0}};self.init=function(){self.opts=f.extend({},e,p),"close"!==p?(o(),1==self.opts.ajax?a():(self.popup=self.popup.clone(),self.popup.css(self.opts.popup_css).addClass("yith-wcbk-popup-opened"),f(d.body).append(self.popup)),t("init-center"),l(),n()):i()};var o=function(){0<f(d).find("."+self.opts.overlay_class).length?s=f(d).find("."+self.opts.overlay_class).first():(s=f("<div />").addClass(self.opts.overlay_class),f(d.body).append(s))},a=function(){self.popup=f("<div />").addClass(self.opts.popup_class);var p=f("<span />").addClass(self.opts.close_btn_class+" dashicons dashicons-no-alt"),s=f("<div />").addClass(self.opts.ajax_container);self.popup.append(p).append(s),f.ajax({data:self.opts.ajax_data,url:self.opts.url,success:function(p){self.popup.find("."+self.opts.ajax_container).html(p),self.popup.unblock(),c()}}),f(d.body).append(popup),self.popup.block(self.opts.block_params)},t=function(p){var s=self.popup.outerWidth(),e=self.popup.outerHeight(),o=Math.max(0,(f(u).height()-e)/2),a=Math.max(0,(f(u).width()-s)/2);switch(p){case"init-center":self.popup.css({position:"fixed",top:"calc(50% - 100px)",left:"calc(50% - 100px)",width:"100px",height:"100px"});break;case"big-center":self.popup.css({position:"fixed",top:"5%",left:"5%",width:"90%",height:"90%"});break;case"center":self.popup.css({position:"fixed",top:o+"px",left:a+"px"})}},l=function(){f(d).on("click","."+self.opts.overlay_class,function(){i()}),self.popup.on("click","."+self.opts.close_btn_class,function(){i()})},n=function(){s.fadeIn("fast"),self.popup.fadeIn("fast",function(){self.opts.ajax||c()})},c=function(){self.popup.children().hide(),self.popup.show(),self.popup.animate({opacity:1,top:"5%",left:"5%",width:"90%",height:"90%",easing:"easeOutBounce"},{duration:300,complete:function(){self.popup.children().fadeIn("fast")}})},i=function(){f(d).find("."+self.opts.overlay_class).hide(),self.popup.hide(),s.remove(),self.popup.remove()};return self.init(),self.popup}}(jQuery,window,document);
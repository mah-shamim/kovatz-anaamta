jQuery(function(a){"use strict";var t={init:function(){a(document).on("click",".yith-wcbk-printer-field__on-off",t.update)},update:function(t){var e=a(t.target).closest(".yith-wcbk-printer-field__on-off"),t=e.find(".yith-wcbk-printer-field__on-off__value").first();"yes"===(t?t.val():"no")?(t.val("no"),e.removeClass("yith-wcbk-printer-field__on-off--enabled")):(t.val("yes"),e.addClass("yith-wcbk-printer-field__on-off--enabled")),t.trigger("change")}};t.init();var c={container:".yith-wcbk-time-select__container",hour:".yith-wcbk-time-select-hour",minute:".yith-wcbk-time-select-minute",separator:":",init:function(){var t=c;a(document).on("change",t.hour+", "+t.minute,t.update)},update:function(t){var e=c,i=a(t.target).closest(e.container),n=i.find(e.hour).first(),t=i.find(e.minute).first();i.find("input").first().val(n.val()+e.separator+t.val()).trigger("change")}};c.init();var e=a(".yith-wcbk-select2-select-all"),i=a(".yith-wcbk-select2-deselect-all");i.each(function(){var t=a(this),e=a(this).data("select-id"),i=a("#"+e),e=function(){i.val()&&i.val().length?t.show():t.hide()};i.on("change",e),e()}),e.on("click",function(){var t=a(this).data("select-id"),t=a("#"+t);t.find("option").prop("selected",!0),t.trigger("change")}),i.on("click",function(){var t=a(this).data("select-id"),t=a("#"+t);t.find("option").prop("selected",!1),t.trigger("change")}),a("#yith-wcbk-logs").on("click","h2 a.page-title-action",function(t){return t.stopImmediatePropagation(),window.confirm(wcbk_admin.i18n_delete_log_confirmation)}),a(document).on("yith-wcbk-init-tiptip",function(){a("#tiptip_holder").removeAttr("style"),a("#tiptip_arrow").removeAttr("style"),a(".tips").tipTip({attribute:"data-tip",fadeIn:50,fadeOut:50,delay:200})}).trigger("yith-wcbk-init-tiptip"),a(document).on("yith-wcbk-init-datepickers",function(){a(".yith-wcbk-admin-date-picker").yith_wcbk_datepicker()}).trigger("yith-wcbk-init-datepickers");var o=!1;a(document).on("click",".yith-wcbk-copy-to-clipboard",function(t){var e=a(this),i=e.data("selector-to-copy"),n=a(i);0<n.length&&(o&&o.remove()&&(o=!1),o||(o=a('<div id="yith-wcbk-copy-to-clipboard__copied">'+wcbk_admin.i18n_copied+"</div>"),a("body").append(o)),o.hide(),i=a("<input>"),n=n.is("input")?n.val():n.html(),a("body").append(i),i.val(n).select(),document.execCommand("copy"),i.remove(),o.css({left:e.offset().left+e.outerWidth()/2-o.outerWidth()/2,top:e.offset().top-o.outerHeight()-7}).fadeIn().delay(1e3).fadeOut())}),a(".yith-wcbk-show-conditional").hide().each(function(){var t,e=a(this),i=e.data("field-id"),n=a("#"+i),c=e.data("value");n.length&&((t=n.is("input[type=checkbox]"))&&(c="no"!==c),n.is(".yith-wcbk-printer-field__on-off")&&(n=n.find("input")),n.on("change keyup",function(){(t?n.is(":checked"):n.val())===c?e.show():e.hide()}).trigger("change"))}),a(".yith-wcbk-move").each(function(){var t=a(this),e=t.data("after");0<e.length&&t.insertAfter(e).show()}),a(".yith-wcbk-date-time-field").each(function(){var t=a(this),e=a(this).data("date"),i=a(this).data("time"),n=a(e).first(),c=a(i).first(),i=function(){t.val(n.val()+" "+c.val())};n.on("change",i),c.on("change",i)}),a(document).on("click","#yith-wcbk-logs-tab-table td.description-column .expand:not(.disabled)",function(t){a(t.target).closest("td.description-column").toggleClass("expanded")}),a(document).on("yith-plugin-fw-float-save-button-after-saving",function(t,e){var i=a("#yith-wcbk-google-calendar-tab__main");i.length&&e&&((e=a(e).find("#yith-wcbk-google-calendar-tab__main")).length&&i.html(e.html()))});var n=a("#yith-wcbk-costs-included-in-shown-price input[type=checkbox]"),d=a("#yith-wcbk-show-duration-unit-in-price"),r=d.closest("tr.yith-plugin-fw-panel-wc-row"),h=a("#yith-wcbk-replace-days-with-weeks-in-price").closest("tr.yith-plugin-fw-panel-wc-row"),l=function(){var t=n.filter(":checked").map(function(){return a(this).val()}).get();!t.includes("base-price")||t.includes("extra-costs")||t.includes("services")?(r.hide(),h.hide()):(r.show(),"yes"===d.val()?h.show():h.hide())};n.on("change",function(){n.filter(":checked").length||a(this).prop("checked",!0),l()}),d.on("change",l),l();var s,u={init:function(){a(document).on("change",".yith-wcbk-day-month__day, .yith-wcbk-day-month__month ",u.update)},update:function(t){var e=a(t.target).closest(".yith-wcbk-day-month"),i=e.find(".yith-wcbk-day-month__value").first(),n=e.find(".yith-wcbk-day-month__day").val(),t=e.find(".yith-wcbk-day-month__month").val(),n=u.formatValue(t,n);e.data("value",n),i.val(n).trigger("change")},formatValue:function(t,e){return e<10&&(e="0"+e),t<10&&(t="0"+t),t+"-"+e}};u.init(),"undefined"!=typeof adminpage&&0<=["post-php","post-new-php"].indexOf(adminpage)&&((s=a("#publish")).length&&a(document).on("click","#yith-wcbk-cpt-save",function(t){t.preventDefault(),s.trigger("click"),a(this).block({message:null,overlayCSS:{background:"transparent",opacity:.6}})})),a(function(){wcbk_admin.disableWcCheckForChanges&&a("input, textarea, select, checkbox").on("change",function(){window.onbeforeunload=""})})});